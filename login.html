<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CAVA TOP</title>
<style>
@font-face {
    font-family: 'MyCustomFont';
    src: url('hotspot/fonts/custom-font.ttf') format('truetype');
}
:root{
    --primary:#2b7a8f;
    --accent:#f0b429;
    --soft:#ffffffcc;
    --popup-bg:#ffffff;
    --button-primary:#2b7a8f;
    --button-secondary:#4db6ac;
}
*{box-sizing:border-box}
body{
    margin:0;
    min-height:100vh;
    font-family:'MyCustomFont',Tahoma;
    background:linear-gradient(180deg,#f4fbff,#e7f4fb);
    display:flex;
    align-items:center;
    justify-content:center;
}
.container{ width:100%; max-width:380px; text-align:center; padding:20px; }
.logo{
    height:200px;
    background:linear-gradient(180deg,#f1f9fd,#e4f3f9);
    border-radius:22px;
    margin-bottom:18px;
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
    box-shadow:0 8px 18px rgba(43,122,143,.12);
}
.logo img{ width:100%; height:100%; object-fit:contain; }
.menu-bar{
    display:flex;
    justify-content:space-around;
    align-items:center;
    background:#ffffff;
    border-radius:30px;
    padding:10px 8px;
    margin-bottom:18px;
    box-shadow:0 6px 14px rgba(0,0,0,.08);
    font-size:13px;
}
.menu-bar span{
    color:#777;
    cursor:pointer;
    padding:4px 6px;
    transition:0.3s;
}
.menu-bar span:hover{
    color:var(--primary);
    font-weight:bold;
}
.welcome-box{ margin-bottom:18px; }
.welcome-box h1{ margin:6px 0 4px; font-size:22px; color:#2b2b2b; }
.welcome-box p{ margin:0; font-size:14px; color:#777; }
.flower{ font-size:26px; margin-bottom:4px; }
.input-group{ position:relative; margin-bottom:16px; }
.input-group input{
    width:100%;
    padding:15px 48px 15px 16px;
    border-radius:30px;
    border:none;
    background:var(--soft);
    font-size:14px;
    box-shadow:0 6px 14px rgba(0,0,0,.08);
}
.input-group input:focus{
    outline:none;
    box-shadow:0 0 0 3px rgba(43,122,143,.25);
}
.icon{
    position:absolute;
    top:50%;
    right:18px;
    transform:translateY(-50%);
    width:18px;
    height:18px;
    fill:#f0b429;
}
.remember{
    display:flex;
    align-items:center;
    justify-content:center;
    gap:6px;
    font-size:13px;
    color:#555;
    margin:8px 0 18px;
}
.login-btn{
    width:100%;
    padding:14px;
    border:none;
    border-radius:30px;
    font-size:16px;
    color:#fff;
    cursor:pointer;
    background:linear-gradient(90deg,var(--primary),var(--button-secondary));
    border:2px solid var(--accent);
}
.login-btn:hover{
    box-shadow:0 10px 24px rgba(43,122,143,.35);
}
.trial-btn{
    width:60%;
    padding:8px 0;
    border-radius:25px;
    font-size:13px;
    color:#fff;
    background:var(--button-secondary);
    border:none;
    cursor:pointer;
    display:block;
    margin:12px auto 0;
}
.trial-btn:hover{
    background:var(--primary);
    box-shadow:0 6px 18px rgba(0,0,0,.2);
}
.error-box{
    background:#ffeae2;
    color:#a94442;
    border-radius:24px;
    padding:12px;
    margin-top:16px;
    font-size:14px;
}
.footer{
    margin-top:30px;
    font-size:11px;
    color:#555;
}
.popup-overlay {
    display:none;
    position:fixed;
    top:0;
    left:0;
    width:100%;
    height:100%;
    background:rgba(0,0,0,0.35);
    z-index:2000;
    justify-content:center;
    align-items:center;
    transition:0.3s;
}
.popup-box {
    background:var(--popup-bg);
    border-radius:16px;
    width:90%;
    max-width:360px;
    padding:22px 18px;
    text-align:center;
    position:relative;
    box-shadow:0 12px 30px rgba(43,122,143,0.2);
    transform: scale(0.9);
    opacity:0;
    transition:0.25s ease-in-out;
}
.popup-overlay.show .popup-box {
    transform: scale(1);
    opacity:1;
}
.popup-box .close-btn {
    position:absolute;
    top:10px;
    left:10px;
    cursor:pointer;
    font-size:20px;
    font-weight:bold;
    color:#2b7a8f;
    transition:0.3s;
}
#error-box {
    background: linear-gradient(135deg, rgba(245,245,245,0.95), rgba(255,255,255,0.95));
    color:#d32f2f; 
    font-size:14px; 
    padding:10px 14px; 
    border-radius:10px;
    margin:10px auto; 
    text-align:center; 
    cursor:pointer;
    border:1px solid #f44336;
}

#error-box:hover {
    background: #ffe6e6;
}

#error-details {
    display:none;
    margin-top:6px;
    font-size:13px;
    color:#b71c1c;
}
 
 
.popup-box .close-btn:hover{ color:#4db6ac; }
.popup-box h2{ color:#2b7a8f; margin-bottom:12px; font-size:20px; font-weight:bold; }
.popup-box table { width:100%; border-collapse:collapse; margin-top:12px; }
.popup-box table th{ background:linear-gradient(90deg,#2b7a8f,#4db6ac); color:#fff; padding:8px; font-weight:bold; }
.popup-box table td{ padding:8px; border-bottom:1px solid #ccc; }
.popup-box ul{ text-align:right; padding:0; list-style:none; margin-top:12px; }
.popup-box ul li{ padding:6px 0; border-bottom:1px solid #eee; font-size:14px; }
.popup-box input#support-number{ background-color: #d0f0ff; padding:10px; border-radius:8px; border: 3px solid #2b7a8f; text-align:center; font-size:20px; }
.popup-box button, .popup-box a.popup-link{ padding:10px 16px; border-radius:8px; border:none; color:#fff; cursor:pointer; font-size:14px; text-decoration:none; display:flex; align-items:center; justify-content:center; transition:0.3s; }
.popup-box button{ background:linear-gradient(90deg,#2b7a8f,#4db6ac); }
.popup-box button:hover{ background:linear-gradient(90deg,#4db6ac,#2b7a8f); }
.popup-box a.popup-link{ background:linear-gradient(90deg,#f0b429,#f2d479); margin-left:6px; }
.popup-box a.popup-link:hover{ background:linear-gradient(90deg,#f2d479,#f0b429); }
</style>
</head>
<body>
<div class="container">
    <div class="logo">
        <img src="logoo.png" alt="AL HUDA">
    </div>

    <div class="menu-bar">
        <span onclick="openPopup('prices')">Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</span>
        <span onclick="openPopup('distributors')">Ø§Ù„Ù…ÙˆØ²Ø¹ÙŠÙ†</span>
        <span onclick="openPopup('support')">Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</span>
    </div>

    <div class="welcome-box">
        <div class="flower">ğŸŒ·</div>
        <h1>Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ</h1>
        <p>Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ù„Ù„Ø§ØªØµØ§Ù„</p>
    </div>
<div id="error-box">
  âš  <span id="error-message"></span>
  <div id="error-details"></div>
</div>

    <form name="login" action="$(link-login-only)" method="post" onsubmit="saveLogin()">
        <div class="input-group">
            <svg class="icon" viewBox="0 0 16 16">
                <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                <path d="M14 14s-1-1.5-6-1.5S2 14 2 14s1-4 6-4 6 4 6 4z"/>
            </svg>
            <input type="text" name="username" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©" autofocus>
        </div>

        <div class="input-group">
            <svg class="icon" viewBox="0 0 16 16">
                <path d="M3 8V6a5 5 0 0 1 10 0v2h1v7H2V8h1z"/>
            </svg>
            <input type="password" name="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
        </div>

        <label class="remember">
            <input type="checkbox" checked> Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„
        </label>

        <button class="login-btn" type="submit">Ø¯Ø®ÙˆÙ„</button>

        <br>
        <div class="input-group">
            <select id="se">
                <option value="" selected disabled>Ø¯Ø®ÙˆÙ„ Ø¨ÙƒØ±Øª Ø³Ø§Ø¨Ù‚</option>
            </select>
        </div>
    </form>

    <div class="footer"> Â© 2025 <br> BY - Mosab AL-Dremly / 0592901414 </div>
</div>

<div class="popup-overlay" id="popup" onclick="closePopup(event)">
    <div class="popup-box">
        <span class="close-btn" onclick="closePopup()">Ã—</span>
        <div id="popup-content"></div>
    </div>
</div>

<script>
// ===== Popup Functions =====
function openPopup(type){
    const popup = document.getElementById('popup');
    const content = document.getElementById('popup-content');
    if(type === 'prices'){
        content.innerHTML = `
            <h2>Ø§Ù„Ø£Ø³Ø¹Ø§Ø±</h2>
            <table>
                <tr><th>Ø§Ù„Ù…Ù†ØªØ¬</th><th>Ø§Ù„Ø³Ø¹Ø±</th></tr>
                <tr><td>Ù…Ù†ØªØ¬ 1</td><td>50 Ø±ÙŠØ§Ù„</td></tr>
                <tr><td>Ù…Ù†ØªØ¬ 2</td><td>70 Ø±ÙŠØ§Ù„</td></tr>
                <tr><td>Ù…Ù†ØªØ¬ 3</td><td>100 Ø±ÙŠØ§Ù„</td></tr>
            </table>
        `;
    } else if(type === 'distributors'){
        content.innerHTML = `
            <h2>Ø§Ù„Ù…ÙˆØ²Ø¹ÙŠÙ†</h2>
            <ul>
                <li>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© 1 - Ù…ÙˆØ²Ø¹ Ø£</li>
                <li>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© 2 - Ù…ÙˆØ²Ø¹ Ø¨</li>
                <li>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© 3 - Ù…ÙˆØ²Ø¹ Ø¬</li>
                <li>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© 4 - Ù…ÙˆØ²Ø¹ Ø¯</li>
            </ul>
        `;
    } else if(type === 'support'){
        content.innerHTML = `
            <h2>Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ</h2>
            <p>Ù„Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø± Ø£Ùˆ Ù…Ø´ÙƒÙ„Ø©ØŒ ÙŠÙ…ÙƒÙ†ÙƒÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ Ø¹Ø¨Ø± Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ§Ù„ÙŠ:</p>
            <div style="margin:12px 0; display:flex; flex-direction:column; gap:8px;">
                <input type="text" id="support-number" value="0592901414" readonly/>
                <div style="display:flex; gap:8px; justify-content:center;">
                    <button onclick="copyNumber()">Ù†Ø³Ø® Ø§Ù„Ø±Ù‚Ù…</button>
                    <a href="tel:0592901414" class="popup-link">Ø§ØªØµØ§Ù„</a>
                </div>
            </div>
        `;
    }
    popup.style.display = 'flex';
    setTimeout(()=>{ popup.classList.add('show'); }, 50);
}

function closePopup(event){
    const popup = document.getElementById('popup');
    if(!event || event.target === popup){
        popup.classList.remove('show');
        setTimeout(()=>{ popup.style.display='none'; }, 250);
    }
}

function copyNumber(){
    const numberField = document.getElementById('support-number');
    numberField.select();
    numberField.setSelectionRange(0, 99999);
    document.execCommand('copy');
    alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ù‚Ù…: " + numberField.value);
}

// ===== Ø­ÙØ¸ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… localStorage =====
const STORAGE_KEY = "storedCards";

function getStoredCards(){
    return JSON.parse(localStorage.getItem(STORAGE_KEY) || "[]");
}

function saveCard(username, password){
    let cards = getStoredCards();
    cards = cards.filter(c => c.username !== username);
    cards.push({username, password});
    if(cards.length > 4) cards = cards.slice(-4);
    localStorage.setItem(STORAGE_KEY, JSON.stringify(cards));
}

function populateSelectWithOptions(){
    const se = document.getElementById("se");
    se.innerHTML = '<option disabled selected>Ø¯Ø®ÙˆÙ„ Ø¨ÙƒØ±Øª Ø³Ø§Ø¨Ù‚</option>';

    const cards = getStoredCards().reverse();
    cards.forEach((c,i)=>{
        const opt = document.createElement("option");
        opt.value = c.username + "|" + c.password;
        opt.text = i === 0 ? "Ø¢Ø®Ø± ÙƒØ±Øª: " + c.username : c.username;
        se.appendChild(opt);
    });

    se.innerHTML += '<option value="reload">ØªØ­Ø¯ÙŠØ«</option>';
}

document.getElementById("se").addEventListener("change", function(e){
    if(e.target.value === "reload"){
        location.reload();
        return;
    }
    const [u,p] = e.target.value.split("|");
    document.login.username.value = u;
    document.login.password.value = p;
});

function saveLogin(){
    const checkbox = document.querySelector(".remember input");
    if(checkbox.checked){
        saveCard(
            document.login.username.value,
            document.login.password.value
        );
    }
}

// ØªØ´ØºÙŠÙ„ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
populateSelectWithOptions();
</script>
</body>
</html>
